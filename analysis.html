<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Analysis routines &mdash; pyro 4.1.0.post13+g32b36530 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/theme_overrides.css?v=2e394b92" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=ab8be6d1"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Testing" href="testing.html" />
    <link rel="prev" title="Particles" href="particles_basics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyro
              <img src="_static/logo.gif" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">pyro basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to pyro</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Setting up pyro</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes on the numerical methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Working with output</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems.html">Adding a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh_basics.html">Mesh overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh-examples.html">Mesh examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh-examples.html#Spherical-Polar-Grid">Spherical Polar Grid</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Solvers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advection_basics.html">Advection solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="burgers_basics.html">Burgers’ Equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="compressible_basics.html">Compressible hydrodynamics solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="compressible_compare.html">Compressible solver comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="multigrid.html">Multigrid Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="diffusion_basics.html">Diffusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompressible_basics.html">Incompressible hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompressible_viscous_basics.html">Incompressible viscous hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="lowmach_basics.html">Low Mach number hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="swe_basics.html">Shallow water solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_basics.html">Particles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Analysis routines</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="help.html">Contributing and getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="ack.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="ack.html#history">History</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyro</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Analysis routines</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/analysis.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="analysis-routines">
<span id="analysis"></span><h1>Analysis routines<a class="headerlink" href="#analysis-routines" title="Link to this heading"></a></h1>
<p>In addition to the main pyro program, there are many analysis tools
that we describe here. Note: some problems write a report at the end
of the simulation specifying the analysis routines that can be used
with their data.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">compare.py</span></code>: this takes two simulation output files as input and
compares zone-by-zone for exact agreement. This is used as part of
the regression testing.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./compare.py</span> <span class="pre">file1</span> <span class="pre">file2</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot.py</span></code>: this takes an output file as input and plots the data
using the solver’s dovis method. It deduces the solver from the
attributes stored in the HDF5 file.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./plot.py</span> <span class="pre">file</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">analysis/</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">convergence.py</span></code>: this compares two files with different
resolutions (one a factor of N-times, (default is 2 times or <code class="docutils literal notranslate"><span class="pre">N=2</span></code>) finer
than the other). It coarsens the finer data and then computes the
norm of the difference.  The default variable being compared is
density, but a different variable can be selected with the
<code class="docutils literal notranslate"><span class="pre">var_name</span></code> argument.
This is used to test the convergence of solvers.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./convergence.py</span> <span class="pre">fine_file</span> <span class="pre">coarse_file</span> <span class="pre">var_name</span> <span class="pre">N</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">convergence_plot.py</span></code>: this compares 3 or more files with different
resolutions (factor of N-times (default is 2 times) finer than the
others) by using <code class="docutils literal notranslate"><span class="pre">convergence.py</span></code>. It prints out a table that summarizes
the L-2 Norm of all the variables by coarsening the finer data and comparing
it to the coarse data, as well as the order of convergence between the
L-2 Norms. It also produces a plot in the end to compare the theoretical
order of convergence to the actual order of convergence from the datasets.
The data files should enter from the finest file to the coarsest file. There
should be at least 3 files, <code class="docutils literal notranslate"><span class="pre">fine_file</span> <span class="pre">med_file</span> <span class="pre">coarse_file</span></code>.
The output file name for the convergence plot, <code class="docutils literal notranslate"><span class="pre">out</span> <span class="pre">=</span> <span class="pre">convergence_plot.pdf</span></code>,
by default. The theoretical order of convergence for the solver, <code class="docutils literal notranslate"><span class="pre">order=2</span></code>,
by default. The multiplicative factor between each data files are, <code class="docutils literal notranslate"><span class="pre">resolution=2</span></code>,
by default. This is used to test the order of the convergence of the solver
when there is no analytical solutions.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./convergence_plot.py</span> <span class="pre">files*</span> <span class="pre">-o</span> <span class="pre">out</span> <span class="pre">-n</span> <span class="pre">order</span> <span class="pre">-r</span> <span class="pre">resolution</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dam_compare.py</span></code>: this takes an output file from the
shallow water dam break problem and plots a slice through the domain
together with the analytic solution (calculated in the script).</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./dam_compare.py</span> <span class="pre">file</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">gauss_diffusion_compare.py</span></code>: this is for the diffusion solver’s
Gaussian diffusion problem. It takes a sequence of output files as
arguments, computes the angle-average, and the plots the resulting
points over the analytic solution for comparison with the exact
result.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./gauss_diffusion_compare.py</span> <span class="pre">file*</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">incomp_converge_error.py</span></code>: this is for the incompressible
solver’s converge problem. This takes a single output file as
input and compares the velocity field to the analytic solution,
reporting the L2 norm of the error.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./incomp_converge_error.py</span> <span class="pre">file</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">plotvar.py</span></code>: this takes a single output file and a variable
name and plots the data for that variable.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./plotvar.py</span> <span class="pre">file</span> <span class="pre">variable</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sedov_compare.py</span></code>: this takes an output file from the
compressible Sedov problem, computes the angle-average profile of
the solution and plots it together with the analytic data (read in
from <code class="docutils literal notranslate"><span class="pre">cylindrical-sedov.out</span></code>).</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./sedov_compare.py</span> <span class="pre">file</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">smooth_error.py</span></code>: this takes an output file from the advection
solver’s smooth problem and compares to the analytic solution,
outputting the L2 norm of the error.</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./smooth_error.py</span> <span class="pre">file</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sod_compare.py</span></code>: this takes an output file from the
compressible Sod problem and plots a slice through the domain over
the analytic solution (read in from <code class="docutils literal notranslate"><span class="pre">sod-exact.out</span></code>).</p>
<p>usage: <code class="docutils literal notranslate"><span class="pre">./sod_compare.py</span> <span class="pre">file</span></code></p>
</li>
</ul>
</li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="particles_basics.html" class="btn btn-neutral float-left" title="Particles" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="testing.html" class="btn btn-neutral float-right" title="Testing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, pyro development team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>