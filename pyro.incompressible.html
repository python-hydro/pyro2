<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyro.incompressible package &mdash; pyro 4.1.0.post3+g6c84b5e5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/theme_overrides.css?v=2e394b92" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=536733cd"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pyro.incompressible.problems package" href="pyro.incompressible.problems.html" />
    <link rel="prev" title="pyro.diffusion.problems package" href="pyro.diffusion.problems.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyro
              <img src="_static/logo.gif" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                4.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">pyro basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to pyro</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Setting up pyro</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes on the numerical methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Working with output</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems.html">Adding a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh_basics.html">Mesh overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh-examples.html">Mesh examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh-examples.html#Spherical-Polar-Grid">Spherical Polar Grid</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Solvers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advection_basics.html">Advection solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="burgers_basics.html">Burgers’ Equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="compressible_basics.html">Compressible hydrodynamics solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="compressible_compare.html">Compressible solver comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="multigrid.html">Multigrid Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="diffusion_basics.html">Diffusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompressible_basics.html">Incompressible hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompressible_viscous_basics.html">Incompressible viscous hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="lowmach_basics.html">Low Mach number hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="swe_basics.html">Shallow water solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_basics.html">Particles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis routines</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="help.html">Contributing and getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="ack.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="ack.html#history">History</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pyro.html">pyro package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pyro.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pyro.advection.html">pyro.advection package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.advection_fv4.html">pyro.advection_fv4 package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.advection_nonuniform.html">pyro.advection_nonuniform package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.advection_rk.html">pyro.advection_rk package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.advection_weno.html">pyro.advection_weno package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.burgers.html">pyro.burgers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.viscous_burgers.html">pyro.viscous_burgers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.compressible.html">pyro.compressible package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.compressible_fv4.html">pyro.compressible_fv4 package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.compressible_react.html">pyro.compressible_react package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.compressible_rk.html">pyro.compressible_rk package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.compressible_sdc.html">pyro.compressible_sdc package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.compressible_sr.html">pyro.compressible_sr package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.diffusion.html">pyro.diffusion package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">pyro.incompressible package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.incompressible_viscous.html">pyro.incompressible_viscous package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.lm_atm.html">pyro.lm_atm package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.mesh.html">pyro.mesh package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.multigrid.html">pyro.multigrid package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.particles.html">pyro.particles package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.swe.html">pyro.swe package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pyro.util.html">pyro.util package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pyro.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyro.html#module-pyro.plot">pyro.plot module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyro.html#module-pyro.pyro_sim">pyro.pyro_sim module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyro.html#module-pyro.simulation_null">pyro.simulation_null module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyro.html#module-pyro.test">pyro.test module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="zreferences.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyro</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">pyro</a></li>
          <li class="breadcrumb-item"><a href="pyro.html">pyro package</a></li>
      <li class="breadcrumb-item active">pyro.incompressible package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pyro.incompressible.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pyro.incompressible">
<span id="pyro-incompressible-package"></span><h1>pyro.incompressible package<a class="headerlink" href="#module-pyro.incompressible" title="Link to this heading"></a></h1>
<p>The pyro solver for incompressible flow.  This implements as second-order
approximate projection method.  The general flow is:</p>
<ul class="simple">
<li><p>create the limited slopes of u and v (in both directions)</p></li>
<li><p>get the advective velocities through a piecewise linear Godunov
method</p></li>
<li><p>enforce the divergence constraint on the velocities through a
projection (the MAC projection)</p></li>
<li><p>recompute the interface states using the new advective velocity</p></li>
<li><p>update U in time to get the provisional velocity field</p></li>
<li><p>project the final velocity to enforce the divergence constraint.</p></li>
</ul>
<p>The projections are done using multigrid</p>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyro.incompressible.problems.html">pyro.incompressible.problems package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyro.incompressible.problems.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyro.incompressible.problems.html#module-pyro.incompressible.problems.converge">pyro.incompressible.problems.converge module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pyro.incompressible.problems.html#pyro.incompressible.problems.converge.finalize"><code class="docutils literal notranslate"><span class="pre">finalize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="pyro.incompressible.problems.html#pyro.incompressible.problems.converge.init_data"><code class="docutils literal notranslate"><span class="pre">init_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pyro.incompressible.problems.html#module-pyro.incompressible.problems.shear">pyro.incompressible.problems.shear module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pyro.incompressible.problems.html#pyro.incompressible.problems.shear.finalize"><code class="docutils literal notranslate"><span class="pre">finalize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="pyro.incompressible.problems.html#pyro.incompressible.problems.shear.init_data"><code class="docutils literal notranslate"><span class="pre">init_data()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-pyro.incompressible.incomp_interface">
<span id="pyro-incompressible-incomp-interface-module"></span><h2>pyro.incompressible.incomp_interface module<a class="headerlink" href="#module-pyro.incompressible.incomp_interface" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyro.incompressible.incomp_interface.apply_gradp_corrections">
<span class="sig-prename descclassname"><span class="pre">pyro.incompressible.incomp_interface.</span></span><span class="sig-name descname"><span class="pre">apply_gradp_corrections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_xl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_xr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_yl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_yr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_xl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_xr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_yl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_yr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gradp_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gradp_y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/incomp_interface.html#apply_gradp_corrections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.incomp_interface.apply_gradp_corrections" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid</strong><span class="classifier">Grid2d</span></dt><dd><p>The grid object</p>
</dd>
<dt><strong>dt</strong><span class="classifier">float</span></dt><dd><p>The timestep</p>
</dd>
<dt><strong>u_xl, u_xr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of x-velocity in x-interface.</p>
</dd>
<dt><strong>u_yl, u_yr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of x-velocity in y-interface.</p>
</dd>
<dt><strong>v_xl, v_xr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of y-velocity in x-interface.</p>
</dd>
<dt><strong>v_yl, u_yr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of y-velocity in y-interface.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">ndarray, ndarray, ndarray, ndarray, ndarray, ndarray, ndarray, ndarray</span></dt><dd><p>correct the interface states of the left and right states of u and v on
both the x- and y-interfaces interface states with the pressure gradient
terms.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyro.incompressible.incomp_interface.apply_other_source_terms">
<span class="sig-prename descclassname"><span class="pre">pyro.incompressible.incomp_interface.</span></span><span class="sig-name descname"><span class="pre">apply_other_source_terms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_xl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_xr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_yl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_yr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_xl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_xr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_yl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_yr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/incomp_interface.html#apply_other_source_terms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.incomp_interface.apply_other_source_terms" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid</strong><span class="classifier">Grid2d</span></dt><dd><p>The grid object</p>
</dd>
<dt><strong>dt</strong><span class="classifier">float</span></dt><dd><p>The timestep</p>
</dd>
<dt><strong>u_xl, u_xr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of x-velocity in x-interface.</p>
</dd>
<dt><strong>u_yl, u_yr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of x-velocity in y-interface.</p>
</dd>
<dt><strong>v_xl, v_xr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of y-velocity in x-interface.</p>
</dd>
<dt><strong>v_yl, u_yr</strong><span class="classifier">ndarray ndarray</span></dt><dd><p>left and right states of y-velocity in y-interface.</p>
</dd>
<dt><strong>source_x, source_y</strong><span class="classifier">ndarray</span></dt><dd><p>Any other source terms</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">ndarray, ndarray, ndarray, ndarray, ndarray, ndarray, ndarray, ndarray</span></dt><dd><p>correct the interface states of the left and right states of u and v on
both the x- and y-interfaces interface states with the source terms.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyro.incompressible.incomp_interface.mac_vels">
<span class="sig-prename descclassname"><span class="pre">pyro.incompressible.incomp_interface.</span></span><span class="sig-name descname"><span class="pre">mac_vels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_ux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_vx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_uy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_vy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gradp_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gradp_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/incomp_interface.html#mac_vels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.incomp_interface.mac_vels" title="Link to this definition"></a></dt>
<dd><p>Calculate the MAC velocities in the x and y directions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid</strong><span class="classifier">Grid2d</span></dt><dd><p>The grid object</p>
</dd>
<dt><strong>dt</strong><span class="classifier">float</span></dt><dd><p>The timestep</p>
</dd>
<dt><strong>u, v</strong><span class="classifier">ndarray</span></dt><dd><p>x-velocity and y-velocity</p>
</dd>
<dt><strong>ldelta_ux, ldelta_uy: ndarray</strong></dt><dd><p>Limited slopes of the x-velocity in the x and y directions</p>
</dd>
<dt><strong>ldelta_vx, ldelta_vy: ndarray</strong></dt><dd><p>Limited slopes of the y-velocity in the x and y directions</p>
</dd>
<dt><strong>gradp_x, gradp_y</strong><span class="classifier">ndarray</span></dt><dd><p>Pressure gradients in the x and y directions</p>
</dd>
<dt><strong>source_x, source_y</strong><span class="classifier">ndarray</span></dt><dd><p>Any other source terms</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">ndarray, ndarray</span></dt><dd><p>MAC velocities in the x and y directions</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyro.incompressible.incomp_interface.states">
<span class="sig-prename descclassname"><span class="pre">pyro.incompressible.incomp_interface.</span></span><span class="sig-name descname"><span class="pre">states</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_ux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_vx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_uy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldelta_vy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gradp_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gradp_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_MAC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_MAC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/incomp_interface.html#states"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.incomp_interface.states" title="Link to this definition"></a></dt>
<dd><p>This is similar to <code class="docutils literal notranslate"><span class="pre">mac_vels</span></code>, but it predicts the interface states
of both u and v on both interfaces, using the MAC velocities to
do the upwinding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid</strong><span class="classifier">Grid2d</span></dt><dd><p>The grid object</p>
</dd>
<dt><strong>dt</strong><span class="classifier">float</span></dt><dd><p>The timestep</p>
</dd>
<dt><strong>u, v</strong><span class="classifier">ndarray</span></dt><dd><p>x-velocity and y-velocity</p>
</dd>
<dt><strong>ldelta_ux, ldelta_uy: ndarray</strong></dt><dd><p>Limited slopes of the x-velocity in the x and y directions</p>
</dd>
<dt><strong>ldelta_vx, ldelta_vy: ndarray</strong></dt><dd><p>Limited slopes of the y-velocity in the x and y directions</p>
</dd>
<dt><strong>gradp_x, gradp_y</strong><span class="classifier">ndarray</span></dt><dd><p>Pressure gradients in the x and y directions</p>
</dd>
<dt><strong>u_MAC, v_MAC</strong><span class="classifier">ndarray</span></dt><dd><p>MAC velocities in the x and y directions</p>
</dd>
<dt><strong>source_x, source_y</strong><span class="classifier">ndarray</span></dt><dd><p>Any other source terms</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>out</strong><span class="classifier">ndarray, ndarray, ndarray, ndarray</span></dt><dd><p>x and y velocities predicted to the interfaces</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pyro.incompressible.simulation">
<span id="pyro-incompressible-simulation-module"></span><h2>pyro.incompressible.simulation module<a class="headerlink" href="#module-pyro.incompressible.simulation" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyro.incompressible.simulation.</span></span><span class="sig-name descname"><span class="pre">Simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">solver_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">problem_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timers=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_class=&lt;class</span> <span class="pre">'pyro.mesh.patch.CellCenterData2d'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="pyro.burgers.html#pyro.burgers.simulation.Simulation" title="pyro.burgers.simulation.Simulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation.define_other_bc">
<span class="sig-name descname"><span class="pre">define_other_bc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation.define_other_bc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation.define_other_bc" title="Link to this definition"></a></dt>
<dd><p>Used to set up user-defined BC’s (see e.g. incompressible_viscous)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation.do_other_update_velocity">
<span class="sig-name descname"><span class="pre">do_other_update_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">U_MAC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U_INT</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation.do_other_update_velocity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation.do_other_update_velocity" title="Link to this definition"></a></dt>
<dd><p>Change the method for updating the velocity from the projected velocity
and interface states (see e.g. incompressible_viscous)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation.dovis">
<span class="sig-name descname"><span class="pre">dovis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation.dovis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation.dovis" title="Link to this definition"></a></dt>
<dd><p>Do runtime visualization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation.evolve">
<span class="sig-name descname"><span class="pre">evolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other_update_velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_source_term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation.evolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation.evolve" title="Link to this definition"></a></dt>
<dd><p>Evolve the incompressible equations through one timestep.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other_bc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aux_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation.initialize" title="Link to this definition"></a></dt>
<dd><p>Initialize the grid and variables for incompressible flow and
set the initial conditions for the chosen problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation.other_source_term">
<span class="sig-name descname"><span class="pre">other_source_term</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation.other_source_term"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation.other_source_term" title="Link to this definition"></a></dt>
<dd><p>Add source terms (other than gradp) for getting interface state values,
in the x and y directions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyro.incompressible.simulation.Simulation.preevolve">
<span class="sig-name descname"><span class="pre">preevolve</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyro/incompressible/simulation.html#Simulation.preevolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyro.incompressible.simulation.Simulation.preevolve" title="Link to this definition"></a></dt>
<dd><p>preevolve is called before we being the timestepping loop.  For
the incompressible solver, this does an initial projection on the
velocity field and then goes through the full evolution to get the
value of phi.  The fluid state (u, v) is then reset to values
before this evolve.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pyro.diffusion.problems.html" class="btn btn-neutral float-left" title="pyro.diffusion.problems package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pyro.incompressible.problems.html" class="btn btn-neutral float-right" title="pyro.incompressible.problems package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, pyro development team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>